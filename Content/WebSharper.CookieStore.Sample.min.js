import { Start as fO } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fP, SetOptional as fQ, Lazy as fR, GetOptional as fS, CreateFuncWithArgs as fT, DeleteEmptyFields as fU, Create as fV, OnLoad as fW } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fX){ return"Dispose"in fX;}
function b(){ c();const fX=new r("New_1");const fY=(fX.h.push(new J("status", d().View)),fX);const fZ=(fY.h.push(u(fY.k, "getcookie", () => fY.i, () => { const f6=null;R(O(() => P(Z(e()), () => Q(null))), null);})),fY);const f0=(fZ.h.push(u(fZ.k, "setcookie", () => fZ.i, () => { const f6=null;R(O(() => P(Z(f()), () => Q(null))), null);})),fZ);const f1=(f0.h.push(u(f0.k, "deletecookie", () => f0.i, () => { const f6=null;R(O(() => P(Z(g()), () => Q(null))), null);})),f0);const f2=v(f1.k, f1.h, []);const f3=new m(f2[1], H(f2[0]));let f4=(f1.i=f3,f3);const f5=f4.Doc;u0032("");bj.RunById("main", f5);}
function c(){ h().addEventListener("change", (fX) => { const fY=(fZ) => { console.log(fZ);};return fY("Cookie Changed: "+String(fX));});}
function d(){ return K.statusMessage;}
function e(){ const fX=null;return new Promise((fY) => { fY(h().get("username").then((fZ) => fZ==null?(d().Set("No cookie found!"),Promise.resolve(null)):(d().Set("Cookie Found: "+String(fZ.name)+"="+String(fZ.value)),Promise.resolve(null))));});}
function f(){ const fX=null;return new Promise((fY) => { let fZ;fY(h().set("username", "JohnDoe", (fZ={},fZ.expires=Date.now()+86400*1000,fZ)).then(() => { d().Set("Cookie Set: username=JohnDoe");return Promise.resolve(null);}));});}
function g(){ const fX=null;return new Promise((fY) => { fY((h())["delete"]("username").then(() => { d().Set("Cookie Deleted!");return Promise.resolve(null);}));});}
function h(){ return K.cookieStore;}
function i(fX){ throw new Error(fX);}
function j(fX){ return[fX.K, fX.V];}
function k(fX, fY){ const fZ=1+fY-fX;return fZ<=0?[]:bC(fZ, (f0) => f0+fX);}
class l { Equals(fX){ return this===fX;} GetHashCode(){ return -1;} }
class m extends l { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fX){ this.anchorRoot=fX;} constructor(fX, fY){ super();this.doc=fY;this.allVars=fX.$==0?fX.$0:i("Should not happen");this.anchorRoot=null;} }
function n(fX, fY){ p(fX, fY);return fX[fY];}
function o(fX, fY, fZ){ p(fX, fY);fX[fY]=fZ;}
function p(fX, fY){ if(fY<0||fY>=fX.length)i("Index was outside the bounds of the array.");}
function q(fX){ return fX.dims===2?fX.length*fX.length:fX.length;}
class r extends l { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fX){ if(fX=="New_1"){ let fY;super();this.i=null;this.k=(fY=L(),String(fY));this.h=fP([]);fQ(this, "s", null);} } }
class s extends l { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fX, fY){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return em("");} }
class t extends l { }
function u(fX, fY, fZ, f0){ return new M(fY, (f1) =>(f2) => { const f3=fZ();f3.SetAnchorRoot(f1);return f0({Vars:f3, Anchors:f3, Target:f1, Event:f2});});}
function v(fX, fY, fZ){ const f0=new bk("New_5");const f1=new bs("New_3");const f2=cB(fY);try { while(f2.MoveNext()){ const f3=f2.Current;const f4=f3.Name;f1.SAdd(f4);f0.set_Item(f4, f3);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} return[bt(fY, bI((f5) => { const f6=f5[0];const f7=f5[1];const f8=f5[2];if(f1.Contains(f6))return null;else { const f9=f7===0?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0031(f8.$0);let f$=bl.Create_1(f_==null?"":f_.$0);return new bY(f6, f$);}):f7===1?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0031(f8.$0);let f$=bl.Create_1(f_==null?0:f_.$0);return new bZ(f6, f$);}):f7===2?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0031(f8.$0);let f$=bl.Create_1(f_==null?false:f_.$0);return new b0(f6, f$);}):f7===3?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0031(f8.$0);let f$=bl.Create_1(f_==null?-8640000000000000:f_.$0);return new b1(f6, f$);}):f7===4?bX.GetOrAddHoleFor(fX, f6, () => new b2(f6, bl.Create_1([]))):f7===5?bX.GetOrAddHoleFor(fX, f6, () => new b3(f6, bl.Create_1(u0031(globalThis.document.querySelector("[ws-dom="+f6+"]"))))):f7===6?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0031(f8.$0);let f$=bl.Create_1(f_==null?[]:f_.$0);return new b4(f6, f$);}):i("Invalid value type");f0.set_Item(f6, f9);return u0031(f9);} }, fZ)), {$:0, $0:f0}];}
function w(fX, fY){ if(fX===fY)return true;else { const fZ=typeof fX;if(fZ=="object"){ if(fX===null||fX===void 0||fY===null||fY===void 0||!w(typeof fY, "object"))return false;else if("Equals"in fX)return fX.Equals(fY);else if("Equals"in fY)return false;else if(fX instanceof Array&&fY instanceof Array)return x(fX, fY);else if(fX instanceof Date&&fY instanceof Date)return y(fX, fY);else { const f0=[true];let f1;for(var f3 in fX)if(((f4) => { f0[0]=!fX.hasOwnProperty(f4)||fY.hasOwnProperty(f4)&&w(fX[f4], fY[f4]);return!f0[0];})(f3))break;if(f0[0]){ let f2;for(var f4 in fY)if(((f5) => { f0[0]=!fY.hasOwnProperty(f5)||fX.hasOwnProperty(f5);return!f0[0];})(f4))break;} return f0[0];} } else return fZ=="function"&&("$Func"in fX?fX.$Func===fY.$Func&&fX.$Target===fY.$Target:"$Invokes"in fX&&"$Invokes"in fY&&x(fX.$Invokes, fY.$Invokes));} }
function x(fX, fY){ let fZ;let f0;if(q(fX)===q(fY)){ fZ=true;f0=0;while(fZ&&f0<q(fX)){!w(n(fX, f0), n(fY, f0))?fZ=false:void 0;f0=f0+1;} return fZ;} else return false;}
function y(fX, fY){ return fX.getTime()===fY.getTime();}
function z(fX){ const fY=typeof fX;return fY=="function"?0:fY=="boolean"?fX?1:0:fY=="number"?fX:fY=="string"?A(fX):fY=="object"?fX==null?0:fX instanceof Array?B(fX):C(fX):0;}
function A(fX){ let fY;if(fX===null)return 0;else { fY=5381;for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++)fY=D(fY, fX[fZ].charCodeAt());return fY;} }
function B(fX){ let fY=-34948909;for(let fZ=0, f0=q(fX)-1;fZ<=f0;fZ++)fY=D(fY, z(n(fX, fZ)));return fY;}
function C(fX){ if("GetHashCode"in fX)return fX.GetHashCode();else { const fY=[0];let fZ;for(var f0 in fX)if(((f1) => { fY[0]=D(D(fY[0], A(f1)), z(fX[f1]));return false;})(f0))break;return fY[0];} }
function D(fX, fY){ return(fX<<5)+fX+fY;}
function E(fX, fY){ if(fX===fY)return 0;else { const fZ=typeof fX;switch(fZ=="function"?1:fZ=="boolean"?2:fZ=="number"?2:fZ=="string"?2:fZ=="object"?3:0){ case 0:return typeof fY=="undefined"?0:-1;case 1:return i("Cannot compare function values.");case 2:return fX<fY?-1:1;case 3:if(fX===null)return -1;else if(fY===null)return 1;else if("CompareTo"in fX)return fX.CompareTo(fY);else if("CompareTo0"in fX)return fX.CompareTo0(fY);else if(fX instanceof Array&&fY instanceof Array)return F(fX, fY);else if(fX instanceof Date&&fY instanceof Date)return G(fX, fY);else { const f0=[0];let f1;for(var f3 in fX)if(((f4) =>!fX.hasOwnProperty(f4)?false:!fY.hasOwnProperty(f4)?(f0[0]=1,true):(f0[0]=E(fX[f4], fY[f4]),f0[0]!==0))(f3))break;if(f0[0]===0){ let f2;for(var f4 in fY)if(((f5) =>!fY.hasOwnProperty(f5)?false:!fX.hasOwnProperty(f5)&&(f0[0]=-1,true))(f4))break;} return f0[0];} break;} } }
function F(fX, fY){ let fZ;let f0;if(q(fX)<q(fY))return -1;else if(q(fX)>q(fY))return 1;else { fZ=0;f0=0;while(fZ===0&&f0<q(fX)){ fZ=E(n(fX, f0), n(fY, f0));f0=f0+1;} return fZ;} }
function G(fX, fY){ return E(fX.getTime(), fY.getTime());}
function H(fX){ u0032("index");return fX?u0033("index", u0031("main"), fX):void 0;}
class I extends s { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return em(this.fillWith);} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class J extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(this.fillWith);} get AsChoiceView(){ return en(this.fillWith);} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
let K=fR((fX) => class fY { static { K=fX(this);} static cookieStore;static statusMessage;static { this.statusMessage=bl.Create_1("No cookie set.");this.cookieStore=globalThis.cookieStore;} });
function L(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fX) => { const fY=Math.random()*16|0;const fZ=fX=="x"?fY:fY&3|8;return fZ.toString(16);});}
class M extends s { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
function N(fX){ const fY={};const fZ=cB(fX);try { while(fZ.MoveNext()){ const f0=fZ.Current;fY[f0[0]]=f0[1];} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} return fY;}
function O(fX){ return(fY) => { try {(fX())(fY);} catch(fZ){ fY.k(bo(fZ));} };}
function P(fX, fY){ return S((fZ) => { fX(bn((f0) => { if(f0.$==0){ const f1=f0.$0;W().Fork(() => { try {(fY(f1))(fZ);} catch(f2){ fZ.k(bo(f2));} });} else W().Fork(() => { fZ.k(f0);});}, fZ.ct));});}
function Q(fX){ return(fY) => { fY.k(bp(fX));};}
function R(fX, fY){ const fZ=(T())[0];const f0=fY==null?fZ:fY.$0;W().Fork(() => { if(!f0.c)fX(bn((f1) => { if(f1.$==1)U(f1.$0);}, f0));});}
function S(fX){ return(fY) => { if(fY.ct.c)V(fY);else fX(fY);};}
function T(){ return cz.defCTS;}
function U(fX){ console.log("WebSharper: Uncaught asynchronous exception", fX);}
function V(fX){ fX.k(bq(new c8("New", fX.ct)));}
function W(){ return cz.scheduler;}
function X(fX){ return(fY) => { const fZ=[false];const f0=(f1) => { if(fZ[0])i("A continuation provided by Async.FromContinuations was invoked multiple times");else { fZ[0]=true;W().Fork(f1);} };fX((f1) => { f0(() => { fY.k(bp(f1));});}, (f1) => { f0(() => { fY.k(bo(f1));});}, (f1) => { f0(() => { fY.k(bq(f1));});});};}
function Y(){ return cz.Zero;}
function Z(fX){ return X((fY, fZ) => { fX.then(fY, (f0) => fZ(u0030(f0)));});}
function u0030(fX){ return fX instanceof Error?fX:new cy(fX);}
function u0031(fX){ return{$:1, $0:fX};}
function u0032(fX){!u0034()?(u0035(true),u0036(globalThis.document.body, "")):void 0;u0037().set_Item(fX, u0038(""));}
function u0033(fX, fY, fZ){ let f0;const f1=(f0=null,[u0038(fX).TryGetValue(fY==null?"":fY.$0, {get:() => f0, set:(f2) => { f0=f2;}}), f0]);return f1[0]?u0039(f1[1].cloneNode(true), fZ):(console.warn("Local template doesn't exist", fY),bj.Empty);}
function u0034(){ return cG.LocalTemplatesLoaded;}
function u0035(fX){ cG.LocalTemplatesLoaded=fX;}
function u0036(fX, fY){ const fZ=u0038(fY);const f0=new bk("New_5");const f1=fX.querySelectorAll("[ws-template]");for(let gb=0, gc=f1.length-1;gb<=gc;gb++){ const f2=f1[gb];const f3=f2.getAttribute("ws-template").toLowerCase();f2.removeAttribute("ws-template");f0.set_Item(f3, $(f2));} const f4=fX.querySelectorAll("[ws-children-template]");for(let gd=0, ge=f4.length-1;gd<=ge;gd++){ const f5=f4[gd];const f6=f5.getAttribute("ws-children-template").toLowerCase();f5.removeAttribute("ws-children-template");f0.set_Item(f6, ba(f5));} const f7=fX.querySelectorAll("template[id]");for(let gf=0, gg=f7.length-1;gf<=gg;gf++){ const f8=f7[gf];f0.set_Item(f8.getAttribute("id").toLowerCase(), bb(f8));} const f9=fX.querySelectorAll("template[name]");for(let gh=0, gi=f9.length-1;gh<=gi;gh++){ const f_=f9[gh];f0.set_Item(f_.getAttribute("name").toLowerCase(), bb(f_));} const f$=new bs("New_3");function ga(gj){ if(!fZ.ContainsKey(gj)){ let gk;const gl=(gk=null,[f0.TryGetValue(gj, {get:() => gk, set:(gm) => { gk=gm;}}), gk]);if(gl[0]){ f$.SAdd(gj);f0.RemoveKey(gj);bc(fY, u0031(gj), gl[1], u0031(ga));} else console.warn(f$.Contains(gj)?"Encountered loop when instantiating "+gj:"Local template does not exist: "+gj);} } while(f0.count>0)ga(bu(f0.Keys));}
function u0037(){ return cG.LoadedTemplates;}
function u0038(fX){ let fY;const fZ=(fY=null,[u0037().TryGetValue(fX, {get:() => fY, set:(f1) => { fY=f1;}}), fY]);if(fZ[0])return fZ[1];else { const f0=new bk("New_5");u0037().set_Item(fX, f0);return f0;} }
function u0039(fX, fY){ let fZ;const f0=bd(fX, bt(fY, be().Values));const f1=f0[1];const f2=f0[0];const f3=f2.Els;return!w(f3, null)&&f3.length===1&&(n(f3, 0)instanceof Node&&(w(n(f3, 0).nodeType, Node.ELEMENT_NODE)&&(fZ=n(f3, 0),true)))?c_.TreeNode(f2, f1):bj.Mk(b6(f2), f1);}
function $(fX){ fX.removeAttribute("ws-template");const fY=fX.getAttribute("ws-replace");if(fY==null){ } else { fX.removeAttribute("ws-replace");const fZ=fX.parentNode;if(w(fZ, null)){ } else { const f0=globalThis.document.createElement(fX.tagName);f0.setAttribute("ws-replace", fY);fZ.replaceChild(f0, fX);} } const f1=globalThis.document.createElement("div");f1.appendChild(fX);return f1;}
function ba(fX){ const fY=globalThis.document.createElement("div");while(fX.hasChildNodes())fY.appendChild(fX.firstChild);return fY;}
function bb(fX){ const fY=globalThis.document.createElement("div");const fZ=fX.content;for(let f0=0, f1=fZ.childNodes.length-1;f0<=f1;f0++)fY.appendChild(fZ.childNodes[f0].cloneNode(true));return fY;}
function bc(fX, fY, fZ, f0){ const f1=new bs("New_3");function f2(f9, f_){ while(true)switch(f9){ case 0:if(f_!==null){ const f$=f_.nextSibling;if(w(f_.nodeType, Node.TEXT_NODE))dh(f_);else if(w(f_.nodeType, Node.ELEMENT_NODE))f4(f_);f_=f$;} else return null;break;case 1:const ga=dp(f_.nodeName, u0031(3), null).toLowerCase();const gb=ga.indexOf(".");const gc=gb===-1?[fX, ga]:[dp(ga, null, u0031(gb-1)), dp(ga, u0031(gb+1), null)];const gd=gc[1];const ge=gc[0];if(ge!=""&&!u0037().ContainsKey(ge))return di(gd);else { if(ge==""&&f0!=null)f0.$0(gd);const gf=u0037().Item(ge);if(!gf.ContainsKey(gd))return di(gd);else { const gg=gf.Item(gd);const gh=gg.cloneNode(true);const gi=new bs("New_3");const gj=new bk("New_5");const gk=f_.attributes;for(let gu=0, gv=gk.length-1;gu<=gv;gu++){ const gl=gk.item(gu).name.toLowerCase();const gm=gk.item(gu).nodeValue;let gn=gm==""?gl:gm.toLowerCase();gj.set_Item(gl, gn);if(!gi.SAdd(gl))console.warn("Hole mapped twice", gl);} for(let gw=0, gx=f_.childNodes.length-1;gw<=gx;gw++){ const go=f_.childNodes[gw];if(w(go.nodeType, Node.ELEMENT_NODE))if(!gi.SAdd(go.nodeName.toLowerCase()))console.warn("Hole filled twice", gd);} const gp=f_.childNodes.length===1&&w(f_.firstChild.nodeType, Node.TEXT_NODE);if(gp){ const gq=dj(gh, f_.firstChild.textContent, gd);const gr=((gy) =>(gz) => gy.SAdd(gz))(gi);let gs=((gy) =>(gz) => { if(gz!=null)gy(gz.$0);})((gy) => { gr(gy);});gs(gq);} dk(gh, gi);if(!gp){ for(let gy=0, gz=f_.childNodes.length-1;gy<=gz;gy++){ const gt=f_.childNodes[gy];if(w(gt.nodeType, Node.ELEMENT_NODE))if(gt.hasAttributes())dl(gh, gt);else f3(gh, gt);} } dm(gh, gj);dn(gh, f_.parentNode, f_);f_.parentNode.removeChild(f_);return;} } break;} } function f3(f9, f_){ const f$=f_.nodeName.toLowerCase();const ga=(ge, gf) => { if(f$=="title"&&f_.hasChildNodes()){ const gg=dq(f_.textContent);f_.removeChild(f_.firstChild);while(gg.hasChildNodes())f_.appendChild(gg.firstChild);} f4(f_);return dn(f_, ge, gf);};bf(f9, "[ws-attr-holes]", (ge) => { const gf=eq(ge.getAttribute("ws-attr-holes"), [" "], 1);for(let gj=0, gk=gf.length-1;gj<=gk;gj++){ const gg=n(gf, gj);let gh=new RegExp("\\${"+f$+"}", "ig");let gi=ge.getAttribute(gg).replace(gh, f_.textContent);ge.setAttribute(gg, gi);} });const gb=f9.querySelector("[ws-hole="+f$+"]");if(w(gb, null)){ const gc=f9.querySelector("[ws-replace="+f$+"]");if(w(gc, null)){ const gd=f9.querySelector("slot[name="+f$+"]");return f9.tagName.toLowerCase()=="template"?(ga(gd.parentNode, gd),void gd.parentNode.removeChild(gd)):null;} else { ga(gc.parentNode, gc);gc.parentNode.removeChild(gc);return;} } else { while(gb.hasChildNodes())gb.removeChild(gb.lastChild);gb.removeAttribute("ws-hole");return ga(gb, null);} } function f4(f9){ if(!f9.hasAttribute("ws-preserve"))if(er(f9.nodeName.toLowerCase(), "ws-"))f6(f9);else { do_1(f9);f5(f9.firstChild);} } function f5(f9){ return f2(0, f9);} function f6(f9){ return f2(1, f9);} function f7(f9){ while(true){ const f_=f9.querySelector("[ws-template]");if(w(f_, null)){ const f$=f9.querySelector("[ws-children-template]");if(w(f$, null)){ const ga=f9.querySelectorAll("template[id]");for(let gg=1, gh=ga.length-1;gg<=gh;gg++){ const gb=ga[gg];if(f1.Contains(gb)){ } else { bc(fX, u0031(gb.getAttribute("id")), gb, null);f1.SAdd(gb);} } const gc=f9.querySelectorAll("template[name]");for(let gi=1, gj=gc.length-1;gi<=gj;gi++){ const gd=gc[gi];if(f1.Contains(gd)){ } else { bc(fX, u0031(gd.getAttribute("name")), gd, null);f1.SAdd(gd);} } return null;} else { const ge=f$.getAttribute("ws-children-template");f$.removeAttribute("ws-children-template");bc(fX, u0031(ge), f$, null);f9=f9;} } else { const gf=f_.getAttribute("ws-template");(bg(fX, u0031(gf), f_))(null);f9=f9;} } } const f8=(fY==null?"":fY.$0).toLowerCase();u0038(fX).set_Item(f8, fZ);if(fZ.hasChildNodes()){ f7(fZ);f5(fZ.firstChild);} }
function bd(fX, fY){ let fZ;const f0=[];const f1=[];const f2=[];const f3=[];const f4=new bk("New_5");const f5=cB(fY);try { while(f5.MoveNext()){ const f6=f5.Current;f4.set_Item(f6.Name, f6);} } finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} let f7=dr(fX);const f8=(gf, gg) => { const gh=dQ(gf, gg);f1.push(dR(gh));f2.push([gf, gh]);const gi=fS(gh.OnAfterRender);if(gi==null)return null;else { const gj=gi.$0;f3.push(() => { gj(gf);});return;} };const f9=(gf) => { let gg;const gh=(gg=null,[f4.TryGetValue(gf, {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gh[0]){ const gi=gh[1];if(gi instanceof d7)return u0031(gi.Value);else if(gi instanceof I)return u0031(bj.TextNode(gi.Value));else { const gj=gi.ForTextView();return gj==null?null:u0031(bj.TextView(gj.$0));} } else return null;};bf(fX, "[ws-hole]", (gf) => { const gg=gf.getAttribute("ws-hole");gf.removeAttribute("ws-hole");while(gf.hasChildNodes())gf.removeChild(gf.lastChild);const gh=f9(gg);if(gh!=null&&gh.$==1){ const gi=gh.$0;cH(gf, gi.docNode);f0.push(c1.New(dS(gf), gi.docNode, null, gf, c2(), null));f1.push(gi.updates);} });bf(fX, "[ws-replace]", (gf) => { const gg=f9(gf.getAttribute("ws-replace"));if(gg!=null&&gg.$==1){ const gh=gg.$0;const gi=gf.parentNode;const gj=globalThis.document.createTextNode("");gi.replaceChild(gj, gf);const gk=cM(gj, gh.docNode);f7=dr(fX);const gl=bJ((gm) => gf===gm, f7);if(gl==null){ } else o(f7, gl.$0, gh.docNode);f0.push(c1.New(dS(gi), gh.docNode, u0031([gk, gj]), gi, c2(), null));f1.push(gh.updates);} });let f_=false;bf(fX, "slot", (gf) => { const gg=gf.getAttribute("name");const gh=gg==""||gg==null?"default":gg.toLowerCase();if(f_&&gh=="default"||!w(fX.parentElement, null)){ } else { while(gf.hasChildNodes())gf.removeChild(gf.lastChild);if(gh=="default")f_=true;const gi=f9(gh);if(gi!=null&&gi.$==1){ const gj=gi.$0;cH(gf, gj.docNode);f0.push(c1.New(dS(gf), gj.docNode, null, gf, c2(), null));f1.push(gj.updates);} } });bf(fX, "[ws-attr]", (gf) => { let gg;const gh=gf.getAttribute("ws-attr");gf.removeAttribute("ws-attr");const gi=(gg=null,[f4.TryGetValue(gh, {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gi[0]){ const gj=gi[1];if(gj instanceof d8)f8(gf, gj.Value);else console.warn("Attribute hole filled with non-attribute data", gh);} });bf(fX, "[ws-on]", (gf) => { f8(gf, ej.Concat(bI((gg) => { let gh;const gi=eq(gg, [":"], 1);const gj=(gh=null,[f4.TryGetValue(n(gi, 1), {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gj[0]){ const gk=gj[1];return gk instanceof d9?u0031(d_(n(gi, 0), gk.Value)):gk instanceof M?u0031(ej.Handler(n(gi, 0), gk.Value)):(console.warn("Event hole on"+n(gi, 0)+" filled with non-event data", n(gi, 1)),null);} else return null;}, eq(gf.getAttribute("ws-on"), [" "], 1))));gf.removeAttribute("ws-on");});bf(fX, "[ws-onafterrender]", (gf) => { let gg;const gh=gf.getAttribute("ws-onafterrender");const gi=(gg=null,[f4.TryGetValue(gh, {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gi[0]){ const gj=gi[1];if(gj instanceof ek){ gf.removeAttribute("ws-onafterrender");f8(gf, d$(gj.Value));} else if(gj instanceof el){ gf.removeAttribute("ws-onafterrender");f8(gf, d$(gj.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gh);} });bf(fX, "[ws-var]", (gf) => { let gg;const gh=gf.getAttribute("ws-var");gf.removeAttribute("ws-var");const gi=(gg=null,[f4.TryGetValue(gh, {get:() => gg, set:(gj) => { gg=gj;}}), gg]);if(gi[0])gi[1].AddAttribute((gj) =>(gk) => f8(gj, gk), gf);});const f$=() => { bh("[ws-dom]", (gf) => { let gg;let gh;let gi;const gj=(gg=null,[f4.TryGetValue(gf.getAttribute("ws-dom").toLowerCase(), {get:() => gg, set:(gn) => { gg=gn;}}), gg]);if(gj[0]){ const gk=gj[1];if(gk instanceof b3){ const gl=gk.Value;gf.removeAttribute("ws-dom");gh=gf;const gm=new MutationObserver((gn, go) => { bN((gp) => { gp.removedNodes.forEach(fT((gq) => gq[0]===gh&&gp.addedNodes.length!==1?(gl.SetFinal(null),go.disconnect()):null), null);}, gn);});if(gf.parentElement!==null)gm.observe(gf.parentElement, (gi={},gi.childList=true,gi));gl.Set(u0031(gf));da((gn) => { if(gn!=null&&gn.$==1){ const go=gn.$0;if(gh===go){ } else { gh.replaceWith(go);gh=go;} } else { gh.remove();gm.disconnect();} }, gl.View);} } });};bf(fX, "[ws-attr-holes]", (gf) => { const gg=new RegExp(bi(), "g");const gh=eq(gf.getAttribute("ws-attr-holes"), [" "], 1);gf.removeAttribute("ws-attr-holes");for(let gi=0, gj=gh.length-1;gi<=gj;gi++)((() => { let gk;const gl=n(gh, gi);const gm=gf.getAttribute(gl);let gn=null;let go=0;const gp=[];while(gn=gg.exec(gm),gn!==null){ const gq=dp(gm, u0031(go), u0031(gg.lastIndex-n(gn, 0).length-1));go=gg.lastIndex;gp.push([gq, n(gn, 1)]);} const gr=dp(gm, u0031(go), null);gg.lastIndex=0;const gs=bO((gx, gy) =>(((gz) => { const gA=gz[0];const gB=gz[1];return(gC) => { let gD;const gE=gC[0];const gF=gC[1];const gG=(gD=null,[f4.TryGetValue(gB, {get:() => gD, set:(gI) => { gD=gI;}}), gD]);const gH=gG[0]?gG[1].AsChoiceView:em("");return gH.$==1?[gA, eo.Cons(gE==""?gH.$0:db((gI) => gI+gE, gH.$0), gF)]:[gA+gH.$0+gE, gF];};})(gx))(gy), gp, [gr, eo.Empty]);if(gs[1].$==1){ if(gs[1].$1.$==1){ if(gs[1].$1.$1.$==1){ if(gs[1].$1.$1.$1.$==0){ const gt=gs[0];gk=ea(gl, dc((gx, gy, gz) => gt+gx+gy+gz, gs[1].$0, gs[1].$1.$0, gs[1].$1.$1.$0));} else { const gu=gs[0];gk=ea(gl, db((gx) => gu+ep("", gx), dd(gs[1])));} } else { const gv=gs[0];gk=ea(gl, de((gx, gy) => gv+gx+gy, gs[1].$0, gs[1].$1.$0));} } else if(gs[0]=="")gk=ea(gl, gs[1].$0);else { const gw=gs[0];gk=ea(gl, db((gx) => gw+gx, gs[1].$0));} } else gk=ej.Create(gl, gs[0]);return f8(gf, gk);})());});let ga=f7;const gb=f3.length==0?u0031(() => { f$();}):u0031((gf) => { f$();bN((gg) => { gg(gf);}, f3);});const gc=!w(f7, null)&&f7.length===1&&(n(f7, 0)instanceof Node&&(n(f7, 0)instanceof Element&&(fZ=n(f7, 0),true)))?u0031(fZ):null;let gd={Els:ga, Dirty:true, Holes:f0, Attrs:f2, Render:gb?gb.$0:void 0, El:gc?gc.$0:void 0};let ge=fU(gd, ["Render", "El"]);return[ge, ex(c$(), df, f1)];}
function be(){ return cG.GlobalHoles;}
function bf(fX, fY, fZ){ dx(fX, fY, (f0) => { if(f0.closest("[ws-preserve]")==null)fZ(f0);});}
function bg(fX, fY, fZ){ const f0=$(fZ);return(f1) => { bc(fX, fY, f0, f1);};}
function bh(fX, fY){ dy(fX, (fZ) => { if(fZ.closest("[ws-preserve]")==null)fY(fZ);});}
function bi(){ return cG.TextHoleRE;}
class bj extends l { docNode;updates;static RunById(fX, fY){ const fZ=globalThis.document.getElementById(fX);if(w(fZ, null))i("invalid id: "+fX);else bj.Run(fZ, fY);} static Run(fX, fY){ cH(fX, fY.docNode);bj.RunInPlace(false, fX, fY);} static get Empty(){ return bj.Mk(null, c$());} static RunInPlace(fX, fY, fZ){ const f0=cJ(fY, fZ.docNode);da(dF()||dM()?dN(cK(fX, f0, fZ.docNode)):() => { cL(fX, f0, fZ.docNode);}, fZ.updates);} static Mk(fX, fY){ return new bj(fX, fY);} static TextNode(fX){ return bj.Mk(b7(globalThis.document.createTextNode(fX)), c$());} static TextView(fX){ const fY=cU();return bj.Mk(b8(fY), db((fZ) => { cV(fY, fZ);}, fX));} constructor(fX, fY){ super();this.docNode=fX;this.updates=fY;} }
class bk extends l { equals;hash;count;data;set_Item(fX, fY){ this.set(fX, fY);} set(fX, fY){ const fZ=this.hash(fX);const f0=this.data[fZ];if(f0==null){ this.count=this.count+1;this.data[fZ]=new Array({K:fX, V:fY});} else { const f1=bJ((f2) => this.equals.apply(null, [(j(f2))[0], fX]), f0);if(f1==null){ this.count=this.count+1;f0.push({K:fX, V:fY});} else f0[f1.$0]={K:fX, V:fY};} } TryGetValue(fX, fY){ const fZ=this.data[this.hash(fX)];if(fZ==null)return false;else { const f0=bK((f1) => { const f2=j(f1);return this.equals.apply(null, [f2[0], fX])?u0031(f2[1]):null;}, fZ);return f0!=null&&f0.$==1&&(fY.set(f0.$0),true);} } ContainsKey(fX){ const fY=this.data[this.hash(fX)];return fY==null?false:bL((fZ) => this.equals.apply(null, [(j(fZ))[0], fX]), fY);} RemoveKey(fX){ return this.remove(fX);} get Keys(){ return new dE(this);} GetEnumerator(){ return cE(bM(bm(this.data)));} get Values(){ return new eB(this);} remove(fX){ const fY=this.hash(fX);const fZ=this.data[fY];if(fZ==null)return false;else { const f0=bQ((f1) =>!this.equals.apply(null, [(j(f1))[0], fX]), fZ);return q(f0)<fZ.length&&(this.count=this.count-1,this.data[fY]=f0,true);} } Item(fX){ return this.get(fX);} get(fX){ const fY=this.data[this.hash(fX)];return fY==null?cA():bS((fZ) => { const f0=j(fZ);return this.equals.apply(null, [f0[0], fX])?u0031(f0[1]):null;}, fY);} static New_5(){ return new this("New_5");} static New_6(fX, fY, fZ){ return new this("New_6", fX, fY, fZ);} constructor(fX, fY, fZ, f0){ if(fX=="New_5"){ fX="New_6";fY=[];fZ=w;f0=z;} if(fX=="New_6"){ const f1=fY;const f2=fZ;const f3=f0;super();this.equals=f2;this.hash=f3;this.count=0;this.data=[];const f4=cB(f1);try { while(f4.MoveNext()){ const f5=f4.Current;this.set(f5.K, f5.V);} } finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} } } }
let bl=fR((fX) => class fY extends l { static { bl=fX(this);} static Create_1(fZ){ return new b$(false, {s:c5(fZ, [])}, fZ);} static { } });
function bm(fX){ let fY=[];let fZ;for(var f0 in fX)fY.push(fX[f0]);return fY;}
function bn(fX, fY){ return{k:fX, ct:fY};}
function bo(fX){ return{$:1, $0:fX};}
function bp(fX){ return{$:0, $0:fX};}
function bq(fX){ return{$:2, $0:fX};}
function br(fX, fY){ return{c:fX, r:fY};}
class bs extends l { equals;hash;data;count;SAdd(fX){ return this.add(fX);} Contains(fX){ const fY=this.data[this.hash(fX)];return fY==null?false:this.arrContains(fX, fY);} add(fX){ const fY=this.hash(fX);const fZ=this.data[fY];return fZ==null?(this.data[fY]=[fX],this.count=this.count+1,true):this.arrContains(fX, fZ)?false:(fZ.push(fX),this.count=this.count+1,true);} arrContains(fX, fY){ let fZ=true;let f0=0;const f1=fY.length;while(fZ&&f0<f1)if(this.equals.apply(null, [fY[f0], fX]))fZ=false;else f0=f0+1;return!fZ;} GetEnumerator(){ return cB(eT(this.data));} ExceptWith(fX){ const fY=cB(fX);try { while(fY.MoveNext())this.Remove(fY.Current);} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} } get Count(){ return this.count;} IntersectWith(fX){ const fY=new bs("New_4", fX, this.equals, this.hash);const fZ=eT(this.data);for(let f1=0, f2=fZ.length-1;f1<=f2;f1++){ const f0=fZ[f1];if(!fY.Contains(f0))this.Remove(f0);} } Remove(fX){ const fY=this.data[this.hash(fX)];return fY==null?false:this.arrRemove(fX, fY)&&(this.count=this.count-1,true);} CopyTo(fX, fY){ const fZ=eT(this.data);for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)o(fX, f0+fY, fZ[f0]);} arrRemove(fX, fY){ let fZ=true;let f0=0;const f1=fY.length;while(fZ&&f0<f1)if(this.equals.apply(null, [fY[f0], fX])){ fY.splice(f0, 1);fZ=false;} else f0=f0+1;return!fZ;} static New_3(){ return new this("New_3");} static New_4(fX, fY, fZ){ return new this("New_4", fX, fY, fZ);} static New_2(fX){ return new this("New_2", fX);} constructor(fX, fY, fZ, f0){ if(fX=="New_3"){ fX="New_4";fY=[];fZ=w;f0=z;} let f1;if(fX=="New_2"){ f1=fY;fX="New_4";fY=f1;fZ=w;f0=z;} if(fX=="New_4"){ const f2=fY;const f3=fZ;const f4=f0;super();this.equals=f3;this.hash=f4;this.data=[];this.count=0;const f5=cB(f2);try { while(f5.MoveNext())this.add(f5.Current);} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} } } }
function bt(fX, fY){ return{GetEnumerator:() => { const fZ=cB(fX);const f0=[true];return new cF(fZ, null, (f1) => { if(f1.s.MoveNext()){ f1.c=f1.s.Current;return true;} else { const f2=f1.s;if(!w(f2, null))f2.Dispose();f1.s=null;return f0[0]&&(f0[0]=false,f1.s=cB(fY),f1.s.MoveNext()?(f1.c=f1.s.Current,true):(f1.s.Dispose(),f1.s=null,false));} }, (f1) => { const f2=f1.s;if(!w(f2, null))f2.Dispose();});}};}
function bu(fX){ const fY=cB(fX);try { return fY.MoveNext()?fY.Current:dB();} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bv(fX, fY, fZ){ let f0=fY;const f1=cB(fZ);try { while(f1.MoveNext())f0=fX(f0, f1.Current);return f0;} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} }
function bw(fX, fY){ const fZ=cB(fY);try { while(fZ.MoveNext())fX(fZ.Current);} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bx(fX, fY){ return{GetEnumerator:() => { const fZ=cB(fY);return new cF(null, null, (f0) => fZ.MoveNext()&&(f0.c=fX(fZ.Current),true), () => { fZ.Dispose();});}};}
function by(fX){ return{GetEnumerator:() => cB(fX())};}
function bz(fX, fY){ return bB(bx(fX, fY));}
function bA(fX){ const fY=cB(fX);try { if(!fY.MoveNext())bD();let fZ=fY.Current;while(fY.MoveNext()){ const f0=fY.Current;if(E(f0, fZ)===1)fZ=f0;} return fZ;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bB(fX){ return{GetEnumerator:() => { const fY=cB(fX);function fZ(f0){ while(true){ const f1=f0.s;if(w(f1, null)){ if(fY.MoveNext()){ f0.s=cB(fY.Current);f0=f0;} else { fY.Dispose();return false;} } else if(f1.MoveNext()){ f0.c=f1.Current;return true;} else { f0.Dispose();f0.s=null;f0=f0;} } } return new cF(null, null, fZ, (f0) => { const f1=f0.s;if(!w(f1, null))f1.Dispose();if(!w(fY, null))fY.Dispose();});}};}
function bC(fX, fY){ return bE(fX, bF(fY));}
function bD(){ return i("The input sequence was empty.");}
function bE(fX, fY){ fX<0?dD():void 0;return{GetEnumerator:() => { const fZ=[cB(fY)];return new cF(0, null, (f0) => { f0.s=f0.s+1;if(f0.s>fX)return false;else { const f1=fZ[0];return w(f1, null)?dB():f1.MoveNext()?(f0.c=f1.Current,f0.s===fX?(f1.Dispose(),fZ[0]=null):void 0,true):(f1.Dispose(),fZ[0]=null,dB());} }, () => { const f0=fZ[0];if(!w(f0, null))f0.Dispose();});}};}
function bF(fX){ return{GetEnumerator:() => new cF(0, null, (fY) => { fY.c=fX(fY.s);fY.s=fY.s+1;return true;}, void 0)};}
function bG(fX, fY){ return!bH((fZ) =>!fX(fZ), fY);}
function bH(fX, fY){ const fZ=cB(fY);try { let f0=false;while(!f0&&fZ.MoveNext())f0=fX(fZ.Current);return f0;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bI(fX, fY){ const fZ=[];for(let f1=0, f2=fY.length-1;f1<=f2;f1++){ const f0=fX(fY[f1]);if(f0==null){ } else fZ.push(f0.$0);} return fZ;}
function bJ(fX, fY){ let fZ=null;let f0=0;while(f0<fY.length&&fZ==null){ fX(fY[f0])?fZ=u0031(f0):void 0;f0=f0+1;} return fZ;}
function bK(fX, fY){ let fZ=null;let f0=0;while(f0<fY.length&&fZ==null){ const f1=fX(fY[f0]);if(f1!=null&&f1.$==1)fZ=f1;f0=f0+1;} return fZ;}
function bL(fX, fY){ let fZ=false;let f0=0;while(!fZ&&f0<q(fY))if(fX(fY[f0]))fZ=true;else f0=f0+1;return fZ;}
function bM(fX){ return Array.prototype.concat.apply([], bR(fX));}
function bN(fX, fY){ for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)fX(fY[fZ]);}
function bO(fX, fY, fZ){ let f0=fZ;const f1=fY.length;for(let f2=1, f3=f1;f2<=f3;f2++)f0=fX(fY[f1-f2], f0);return f0;}
function bP(fX, fY){ const fZ=new Array(fY.length);for(let f0=0, f1=fY.length-1;f0<=f1;f0++)fZ[f0]=fX(fY[f0]);return fZ;}
function bQ(fX, fY){ const fZ=[];for(let f0=0, f1=fY.length-1;f0<=f1;f0++)if(fX(fY[f0]))fZ.push(fY[f0]);return fZ;}
function bR(fX){ if(fX instanceof Array)return fX.slice();else if(fX instanceof eo)return bT(fX);else { const fY=[];const fZ=cB(fX);try { while(fZ.MoveNext())fY.push(fZ.Current);return fY;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } }
function bS(fX, fY){ const fZ=bK(fX, fY);return fZ==null?i("KeyNotFoundException"):fZ.$0;}
function bT(fX){ const fY=[];let fZ=fX;while(!(fZ.$==0)){ fY.push(e9(fZ));fZ=e_(fZ);} return fY;}
function bU(fX, fY){ let fZ=true;let f0=0;while(fZ&&f0<q(fY))if(fX(fY[f0]))f0=f0+1;else fZ=false;return fZ;}
function bV(fX, fY){ const fZ=new Array(fX);for(let f0=0, f1=fX-1;f0<=f1;f0++)fZ[f0]=fY;return fZ;}
function bW(fX, fY){ if(fX<0)i("Negative size given.");else null;const fZ=new Array(fX);for(let f0=0, f1=fX-1;f0<=f1;f0++)fZ[f0]=fY(f0);return fZ;}
let bX=fR((fX) => class fY extends l { static { bX=fX(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fZ, f0, f1){ let f2;const f3=bX.GetHolesFor(fZ);const f4=(f2=null,[f3.TryGetValue(f0, {get:() => f2, set:(f6) => { f2=f6;}}), f2]);if(f4[0])return f4[1];else { const f5=f1();f3.set_Item(f0, f5);return f5;} } static GetHolesFor(fZ){ let f0;const f1=(f0=null,[bX.initialized.TryGetValue(fZ, {get:() => f0, set:(f3) => { f0=f3;}}), f0]);if(f1[0])return f1[1];else { const f2=new bk("New_5");bX.initialized.set_Item(fZ, f2);return f2;} } static { bX.initialized=new bk("New_5");bX.instances=new bk("New_5");} });
class bY extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(this.fillWith.View);} AddAttribute(fX, fY){(fX(fY))(eb(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class bZ extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(db(String, this.fillWith.View));} AddAttribute(fX, fY){(fX(fY))(ec(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class b0 extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(db(String, this.fillWith.View));} AddAttribute(fX, fY){(fX(fY))(ed(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class b1 extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(db((fX) =>(new Date(fX)).toLocaleString(), this.fillWith.View));} AddAttribute(fX, fY){(fX(fY))(ee(this.fillWith));} get AsChoiceView(){ return en(db((fX) =>(new Date(fX)).toLocaleString(), this.fillWith.View));} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class b2 extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(db(String, this.fillWith.View));} AddAttribute(fX, fY){(fX(fY))(ef(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class b3 extends s { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class b4 extends s { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(db((fX) => ep(",", fX), this.fillWith.View));} AddAttribute(fX, fY){(fX(fY))(eg(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(fX, fY){ super();this.name=fX;this.fillWith=fY;} }
class b5 extends l { }
function b6(fX){ return{$:6, $0:fX};}
function b7(fX){ return{$:5, $0:fX};}
function b8(fX){ return{$:4, $0:fX};}
class b9 { }
function b_(fX, fY){ return fH(fX, -2147483648, 2147483647, fY);}
class b$ extends t { isConst;current;snap;view;id;get View(){ return this.view;} Set(fX){ if(this.isConst)(((fY) => fY("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fY) => { console.log(fY);}));else { dP(this.snap);this.current=fX;this.snap={s:c5(fX, [])};} } SetFinal(fX){ if(this.isConst)(((fY) => fY("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fY) => { console.log(fY);}));else { dP(this.snap);this.isConst=true;this.current=fX;this.snap={s:c6(fX)};} } Get(){ return this.current;} UpdateMaybe(fX){ const fY=fX(this.Get());if(fY!=null&&fY.$==1)this.Set(fY.$0);} constructor(fX, fY, fZ){ super();this.isConst=fX;this.current=fZ;this.snap=fY;this.view=() => this.snap;this.id=c2();} }
function ca(fX, fY, fZ){ const f0=fX.s;if(f0==null)fZ();else f0!=null&&f0.$==2?(f0.$1.push(fZ),fY(f0.$0)):f0!=null&&f0.$==3?(f0.$0.push(fY),f0.$1.push(fZ)):fY(f0.$0);}
function cb(fX, fY){ const fZ=fY.s;if(fZ!=null&&fZ.$==0)return{s:c6(fX(fZ.$0))};else { const f0={s:c7([], [])};ci(fY, (f1) => { cj(f0, fY, fX(f1));}, f0);return f0;} }
function cc(fX, fY, fZ, f0){ const f1=fY.s;const f2=fZ.s;const f3=f0.s;if(f1!=null&&f1.$==0)return f2!=null&&f2.$==0?f3!=null&&f3.$==0?{s:c6(fX(f1.$0, f2.$0, f3.$0))}:ck(fX, f1.$0, f2.$0, f0):f3!=null&&f3.$==0?cl(fX, f1.$0, f3.$0, fZ):cm(fX, f1.$0, fZ, f0);else if(f2!=null&&f2.$==0)return f3!=null&&f3.$==0?cn(fX, f2.$0, f3.$0, fY):co(fX, f2.$0, fY, f0);else if(f3!=null&&f3.$==0)return cp(fX, f3.$0, fY, fZ);else { const f4={s:c7([], [])};const f5=() => { const f6=f4.s;if(!(f6!=null&&f6.$==0||f6!=null&&f6.$==2)){ const f7=cq(fY);const f8=cq(fZ);const f9=cq(f0);if(f7!=null&&f7.$==1)if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f7.$0[1]&&f8.$0[1]&&f9.$0[1])cr(f4, fX(f7.$0[0], f8.$0[0], f9.$0[0]));else cs(f4, fX(f7.$0[0], f8.$0[0], f9.$0[0]));} };ci(fY, f5, f4);ci(fZ, f5, f4);ci(f0, f5, f4);return f4;} }
function cd(fX){ const fY=bR(fX);if(fY.length==0)return{s:c6([])};else { const fZ={s:c7([], [])};const f0=[q(fY)-1];const f1=() => { if(f0[0]===0){ const f2=bP((f3) => { const f4=f3.s;return f4!=null&&f4.$==0?f4.$0:f4!=null&&f4.$==2?f4.$0:i("value not found by View.Sequence");}, fY);if(bU((f3) => { const f4=f3.s;return f4!=null&&f4.$==0;}, fY))cr(fZ, f2);else cs(fZ, f2);} else f0[0]=f0[0]-1;};bN((f2) => { ci(f2, f1, fZ);}, fY);return fZ;} }
function ce(fX, fY, fZ){ const f0=fY.s;const f1=fZ.s;if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?{s:c6(fX(f0.$0, f1.$0))}:ct(fX, f0.$0, fZ);else if(f1!=null&&f1.$==0)return cu(fX, f1.$0, fY);else { const f2={s:c7([], [])};const f3=() => { const f4=f2.s;if(!(f4!=null&&f4.$==0||f4!=null&&f4.$==2)){ const f5=cq(fY);const f6=cq(fZ);if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f5.$0[1]&&f6.$0[1])cr(f2, fX(f5.$0[0], f6.$0[0]));else cs(f2, fX(f5.$0[0], f6.$0[0]));} };ci(fY, f3, f2);ci(fZ, f3, f2);return f2;} }
function cf(fX, fY){ const fZ=fX.s;const f0=fY.s;if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?{s:c6(null)}:fY;else if(f0!=null&&f0.$==0)return fX;else { const f1={s:c7([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=cq(fX);const f5=cq(fY);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f4.$0[1]&&f5.$0[1])cr(f1, null);else cs(f1, null);} };ci(fX, f2, f1);ci(fY, f2, f1);return f1;} }
function cg(fX){ const fY=fX.s;if(fY==null)return fX;else if(fY!=null&&fY.$==2){ const fZ={s:c5(fY.$0, [])};cv(fX, fZ);return fZ;} else if(fY!=null&&fY.$==3){ const f0={s:c7([], [])};ci(fX, (f1) => { cj(f0, fX, f1);}, f0);return f0;} else return fX;}
function ch(fX, fY){ const fZ=fX.s;if(fZ==null)fY();else fZ!=null&&fZ.$==2?fZ.$1.push(fY):fZ!=null&&fZ.$==3?fZ.$1.push(fY):void 0;}
function ci(fX, fY, fZ){ const f0=fX.s;if(f0==null)dP(fZ);else f0!=null&&f0.$==2?(cw(f0.$1, fZ),fY(f0.$0)):f0!=null&&f0.$==3?(f0.$0.push(fY),cw(f0.$1, fZ)):fY(f0.$0);}
function cj(fX, fY, fZ){ const f0=fY.s;if(f0!=null&&f0.$==0)cr(fX, fZ);else cs(fX, fZ);}
function ck(fX, fY, fZ, f0){ return cb((f1) => fX(fY, fZ, f1), f0);}
function cl(fX, fY, fZ, f0){ return cb((f1) => fX(fY, f1, fZ), f0);}
function cm(fX, fY, fZ, f0){ return ce((f1, f2) => fX(fY, f1, f2), fZ, f0);}
function cn(fX, fY, fZ, f0){ return cb((f1) => fX(f1, fY, fZ), f0);}
function co(fX, fY, fZ, f0){ return ce((f1, f2) => fX(f1, fY, f2), fZ, f0);}
function cp(fX, fY, fZ, f0){ return ce((f1, f2) => fX(f1, f2, fY), fZ, f0);}
function cq(fX){ const fY=fX.s;return fY!=null&&fY.$==0?u0031([fY.$0, true]):fY!=null&&fY.$==2?u0031([fY.$0, false]):null;}
function cr(fX, fY){ const fZ=fX.s;if(fZ!=null&&fZ.$==3){ fX.s=c6(fY);const f0=fZ.$0;for(let f1=0, f2=q(f0)-1;f1<=f2;f1++)(n(f0, f1))(fY);} else void 0;}
function cs(fX, fY){ const fZ=fX.s;if(fZ!=null&&fZ.$==3){ fX.s=c5(fY, fZ.$1);const f0=fZ.$0;for(let f1=0, f2=q(f0)-1;f1<=f2;f1++)(n(f0, f1))(fY);} else void 0;}
function ct(fX, fY, fZ){ return cb((f0) => fX(fY, f0), fZ);}
function cu(fX, fY, fZ){ return cb((f0) => fX(f0, fY), fZ);}
function cv(fX, fY){ const fZ=fX.s;if(fZ==null)dP(fY);else fZ!=null&&fZ.$==2?cw(fZ.$1, fY):fZ!=null&&fZ.$==3?cw(fZ.$1, fY):void 0;}
function cw(fX, fY){ fX.push(fY);if(fX.length%20===0){ const fZ=fX.slice(0);fM(fX);for(let f1=0, f2=q(fZ)-1;f1<=f2;f1++){ const f0=n(fZ, f1);if(typeof f0=="object")(((f3) => { if(f3.s)fX.push(f3);})(f0));else(((f3) => { fX.push(f3);})(f0));} } else void 0;}
class cx extends l { idle;robin;Fork(fX){ this.robin.push(fX);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fX=Date.now();let fY=true;while(fY)if(this.robin.length===0){ this.idle=true;fY=false;} else {(this.robin.shift())();Date.now()-fX>40?(setTimeout(() => { this.tick();}, 0),fY=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class cy extends Error { reason;constructor(fX){ super("Promise rejected");this.reason=fX;} }
let cz=fR((fX) => class fY { static { cz=fX(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=br(false, []);this.scheduler=new cx();this.defCTS=[new c9()];this.Zero=Q();this.GetCT=(fZ) => { fZ.k(bp(fZ.ct));};} });
function cA(){ throw new e2("New");}
function cB(fX){ return fX instanceof Array?cC(fX):w(typeof fX, "string")?cD(fX):fX.GetEnumerator();}
function cC(fX){ return new cF(0, null, (fY) => { const fZ=fY.s;return fZ<q(fX)&&(fY.c=n(fX, fZ),fY.s=fZ+1,true);}, void 0);}
function cD(fX){ return new cF(0, null, (fY) => { const fZ=fY.s;return fZ<fX.length&&(fY.c=fX[fZ],fY.s=fZ+1,true);}, void 0);}
function cE(fX){ return fX instanceof Array?cC(fX):w(typeof fX, "string")?cD(fX):"GetEnumerator0"in fX?fX.GetEnumerator0():fX.GetEnumerator();}
class cF extends l { s;c;n;d;e;MoveNext(){ const fX=this.n(this);this.e=fX?1:2;return fX;} get Current(){ return this.e===1?this.c:this.e===0?i("Enumeration has not started. Call MoveNext."):i("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fX, fY, fZ, f0){ super();this.s=fX;this.c=fY;this.n=fZ;this.d=f0;this.e=0;} }
let cG=fR((fX) => class fY { static { cG=fX(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bk("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bk("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cH(fX, fY){ cI(fX, fY, null);}
function cI(fX, fY, fZ){ while(true){ if(fY!=null&&fY.$==1)return cN(fX, fY.$0.El, fZ);else if(fY!=null&&fY.$==2){ const f0=fY.$0;f0.Dirty=false;fY=f0.Current;} else if(fY==null)return fZ;else if(fY!=null&&fY.$==4)return cN(fX, fY.$0.Text, fZ);else if(fY!=null&&fY.$==5)return cN(fX, fY.$0, fZ);else if(fY!=null&&fY.$==6)return bO((f3, f4) =>((((f5) =>(f6) =>(f7) => f6==null||f6.constructor===Object?cI(f5, f6, f7):cN(f5, f6, f7))(fX))(f3))(f4), fY.$0.Els, fZ);else { const f1=fY.$1;const f2=fY.$0;fY=f2;fZ=cI(fX, f1, fZ);} } }
function cJ(fX, fY){ return eC(eD(), cO(fX, dW(), fY));}
function cK(fX, fY, fZ){ if(dF()){ const f0=null;return O(() => { const f1=eE(fZ);const f2=cS(fY, f1);const f3=cR(fY, f1);return P(dG(dH(f2, cQ(fY, f1))), () => P(cP(fX, fY), () => P(dG(f3), () => { fY.PreviousNodes=f1;return Q(null);})));});} else return cP(fX, fY);}
function cL(fX, fY, fZ){ const f0=eE(fZ);cT(fX, fY.Top);fY.PreviousNodes=f0;}
function cM(fX, fY){ const fZ=fX.parentNode;const f0=globalThis.document.createTextNode("");fZ.insertBefore(f0, fX);cW(fX, fY);return f0;}
function cN(fX, fY, fZ){ dz(fX, fZ, fY);return fY;}
function cO(fX, fY, fZ){ cH(fX, fZ);const f0=dQ(fX, fY);return c1.New(f0, fZ, null, fX, c2(), fS(f0.OnAfterRender));}
function cP(fX, fY){ if(dM()){ const fZ=(f0) => { requestAnimationFrame(() => { cT(fX, fY.Top);f0();});};return X((f0, f1, f2) => fZ.apply(null, [f0, f1, f2]));} else { cT(fX, fY.Top);return Q(null);} }
function cQ(fX, fY){ return dK(bP((fZ) => dY(fZ.Attr), eI(eH(fY, eG((fZ) => dX(fZ.Attr), fX.PreviousNodes)))));}
function cR(fX, fY){ return dK(bP((fZ) => d0(fZ.Attr), eI(eH(fX.PreviousNodes, eG((fZ) => dZ(fZ.Attr), fY)))));}
function cS(fX, fY){ const fZ=(f1) => d1(f1.Attr);const f0=(f1) => eG(fZ, f1);return dK(bP((f1) => d2(f1.Attr), eI(eJ(f0(fX.PreviousNodes), f0(fY)))));}
function cT(fX, fY){!fX?cX(fY):void 0;cY(fY.Children);cZ(fY);}
function cU(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cV(fX, fY){ fX.Value=fY;fX.Dirty=true;}
function cW(fX, fY){ cI(fX.parentNode, fY, fX);}
function cX(fX){ function fY(fZ){ function f0(f1){ while(true){ if(f1!=null&&f1.$==0){ const f2=f1.$1;const f3=f1.$0;if(f0(f3))return true;else f1=f2;} else if(f1!=null&&f1.$==2){ const f4=f1.$0;if(f4.Dirty)return true;else f1=f4.Current;} else if(f1!=null&&f1.$==6){ const f5=f1.$0;return f5.Dirty||bL(fY, f5.Holes);} else return false;} } return f0(fZ.Children);} d5(fX.El, fX.Attr);if(fY(fX))c0(fX);}
function cY(fX){ while(true){ if(fX!=null&&fX.$==1)return cT(false, fX.$0);else if(fX!=null&&fX.$==2){ const fY=fX.$0;fX=fY.Current;} else if(fX==null)return null;else if(fX!=null&&fX.$==5)return null;else if(fX!=null&&fX.$==4){ const fZ=fX.$0;return fZ.Dirty?(fZ.Text.nodeValue=fZ.Value,fZ.Dirty=false):null;} else if(fX!=null&&fX.$==6){ const f0=fX.$0;bN((f3) => { cT(false, f3);}, f0.Holes);bN((f3) => { d5(f3[0], f3[1]);}, f0.Attrs);return cZ(f0);} else { const f1=fX.$1;const f2=fX.$0;cY(f2);fX=f1;} } }
function cZ(fX){ const fY=fS(fX.Render);if(fY!=null&&fY.$==1){ fY.$0(fX.El);fQ(fX, "Render", null);} }
function c0(fX){ const fY=fX.El;function fZ(f3, f4){ while(true){ if(f3!=null&&f3.$==1)return f3.$0.El;else if(f3!=null&&f3.$==2){ const f5=f3.$0;if(f5.Dirty){ f5.Dirty=false;return cI(fY, f5.Current, f4);} else f3=f5.Current;} else if(f3==null)return f4;else if(f3!=null&&f3.$==4)return f3.$0.Text;else if(f3!=null&&f3.$==5)return f3.$0;else if(f3!=null&&f3.$==6){ const f6=f3.$0;if(f6.Dirty)f6.Dirty=false;return bO((f9, f_) => f9==null||f9.constructor===Object?fZ(f9, f_):f9, f6.Els, f4);} else { const f7=f3.$1;const f8=f3.$0;f3=f8;f4=fZ(f7, f4);} } } const f0=fX.El;fC((f3) => { dA(f0, f3);}, fB(fD(fX), fA(fX.El, fS(fX.Delimiters))));let f1=fX.Children;const f2=fS(fX.Delimiters);fZ(f1, f2!=null&&f2.$==1?f2.$0[1]:null);}
class c1 { Attr;Children;Delimiters;El;ElKey;Render;Equals(fX){ return this.ElKey===fX.ElKey;} GetHashCode(){ return this.ElKey;} static New(fX, fY, fZ, f0, f1, f2){ const f3={Attr:fX, Children:fY, El:f0, ElKey:f1};let f4=(fQ(f3, "Delimiters", fZ),fQ(f3, "Render", f2),f3);return fV(c1, f4);} }
function c2(){ c3(c4()+1);return c4();}
function c3(fX){ eU.counter=fX;}
function c4(){ return eU.counter;}
function c5(fX, fY){ return{$:2, $0:fX, $1:fY};}
function c6(fX){ return{$:0, $0:fX};}
function c7(fX, fY){ return{$:3, $0:fX, $1:fY};}
class c8 extends Error { ct;static New(fX){ return new this("New", fX);} static New_1(fX, fY, fZ){ return new this("New_1", fX, fY, fZ);} constructor(fX, fY, fZ, f0){ let f1;if(fX=="New"){ f1=fY;fX="New_1";fY="The operation was canceled.";fZ=null;f0=f1;} if(fX=="New_1"){ const f2=fY;const f3=fZ;const f4=f0;super(f2);this.inner=f3;this.ct=f4;} } }
class c9 extends l { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class c_ extends bj { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fX, fY){ const fZ=eA.Create(fY);const f0=bP((f3) => dR(f3[1]), fX.Attrs);let f1=ex(c$(), df, f0);let f2=df(f1, fZ.v);return new c_(b6(fX), f2, n(fX.Els, 0), fZ);} constructor(fX, fY, fZ, f0){ super(fX, fY);this.docNode_1=fX;this.updates_1=fY;this.elt=fZ;this.rvUpdates=f0;} }
function c$(fX){ const fY={s:c6(fX)};return() => fY;}
function da(fX, fY){ function fZ(){ ca(fY(), fX, () => { W().Fork(fZ);});} W().Fork(fZ);}
function db(fX, fY){ return dg(() => cb(fX, fY()));}
function dc(fX, fY, fZ, f0){ return dg(() => cc(fX, fY(), fZ(), f0()));}
function dd(fX){ return dg(() => cd(bx((fY) => fY(), fX)));}
function de(fX, fY, fZ){ return dg(() => ce(fX, fY(), fZ()));}
function df(fX, fY){ return dg(() => cf(fX(), fY()));}
function dg(fX){ const fY={c:null, o:fX};return() => { let fZ=fY.c;if(fZ===null){ fZ=fY.o();fY.c=fZ;const f0=fZ.s;if(f0!=null&&f0.$==0)fY.o=null;else ch(fZ, () => { fY.c=null;});return fZ;} else return fZ;};}
function dh(fX){ let fY=null;let fZ=0;const f0=fX.textContent;const f1=new RegExp(bi(), "g");while(fY=f1.exec(f0),fY!==null){ fX.parentNode.insertBefore(globalThis.document.createTextNode(dp(f0, u0031(fZ), u0031(f1.lastIndex-n(fY, 0).length-1))), fX);fZ=f1.lastIndex;const f2=globalThis.document.createElement("span");f2.setAttribute("ws-replace", n(fY, 1).toLowerCase());fX.parentNode.insertBefore(f2, fX);} f1.lastIndex=0;fX.textContent=dp(f0, u0031(fZ), null);}
function di(fX){ console.warn("Instantiating non-loaded template", fX);}
function dj(fX, fY, fZ){ const f0=fX.querySelector("[ws-replace]");return w(f0, null)?(console.warn("Filling non-existent text hole", fZ),null):(f0.parentNode.replaceChild(globalThis.document.createTextNode(fY), f0),u0031(f0.getAttribute("ws-replace")));}
function dk(fX, fY){ const fZ=(f0) => { bf(fX, "["+f0+"]", (f1) => { if(!fY.Contains(f1.getAttribute(f0)))f1.removeAttribute(f0);});};fZ("ws-attr");fZ("ws-onafterrender");fZ("ws-var");bf(fX, "[ws-hole]", (f0) => { if(!fY.Contains(f0.getAttribute("ws-hole"))){ f0.removeAttribute("ws-hole");while(f0.hasChildNodes())f0.removeChild(f0.lastChild);} });bf(fX, "[ws-replace]", (f0) => { if(!fY.Contains(f0.getAttribute("ws-replace")))f0.parentNode.removeChild(f0);});bf(fX, "[ws-on]", (f0) => { f0.setAttribute("ws-on", ep(" ", bQ((f1) => fY.Contains(n(eq(f1, [":"], 1), 1)), eq(f0.getAttribute("ws-on"), [" "], 1))));});bf(fX, "[ws-attr-holes]", (f0) => { const f1=eq(f0.getAttribute("ws-attr-holes"), [" "], 1);for(let f5=0, f6=f1.length-1;f5<=f6;f5++){ const f2=n(f1, f5);let f3=new RegExp(bi(), "g");let f4=f0.getAttribute(f2).replace(f3, (f7, f8) => fY.Contains(f8)?f7:"");f0.setAttribute(f2, f4);} });}
function dl(fX, fY){ do_1(fY);const fZ=fY.nodeName.toLowerCase();const f0=fX.querySelector("[ws-attr="+fZ+"]");if(w(f0, null))console.warn("Filling non-existent attr hole", fZ);else { f0.removeAttribute("ws-attr");for(let f2=0, f3=fY.attributes.length-1;f2<=f3;f2++){ const f1=fY.attributes.item(f2);if(f1.name=="class"&&f0.hasAttribute("class"))f0.setAttribute("class", f0.getAttribute("class")+" "+f1.nodeValue);else f0.setAttribute(f1.name, f1.nodeValue);} } }
function dm(fX, fY){ const fZ=(f0) => { bf(fX, "["+f0+"]", (f1) => { let f2;const f3=(f2=null,[fY.TryGetValue(f1.getAttribute(f0).toLowerCase(), {get:() => f2, set:(f4) => { f2=f4;}}), f2]);if(f3[0])f1.setAttribute(f0, f3[1]);});};fZ("ws-hole");fZ("ws-replace");fZ("ws-attr");fZ("ws-onafterrender");fZ("ws-var");bf(fX, "[ws-on]", (f0) => { f0.setAttribute("ws-on", ep(" ", bP((f1) => { let f2;const f3=eq(f1, [":"], 1);const f4=(f2=null,[fY.TryGetValue(n(f3, 1), {get:() => f2, set:(f5) => { f2=f5;}}), f2]);return f4[0]?n(f3, 0)+":"+f4[1]:f1;}, eq(f0.getAttribute("ws-on"), [" "], 1))));});bf(fX, "[ws-attr-holes]", (f0) => { const f1=eq(f0.getAttribute("ws-attr-holes"), [" "], 1);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)((() => { const f4=n(f1, f2);return f0.setAttribute(f4, bv((f5, f6) => { const f7=j(f6);return f5.replace(new RegExp("\\${"+f7[0]+"}", "ig"), "${"+f7[1]+"}");}, f0.getAttribute(f4), fY));})());});}
function dn(fX, fY, fZ){ while(true){ if(fX.hasChildNodes())fZ=fY.insertBefore(fX.lastChild, fZ);else return null;} }
function do_1(fX){ const fY=fX.attributes;const fZ=[];const f0=[];const f1=[];for(let f6=0, f7=fY.length-1;f6<=f7;f6++){ const f2=fY.item(f6);if(er(f2.nodeName, "ws-on")&&f2.nodeName!="ws-onafterrender"&&f2.nodeName!="ws-on"){ fZ.push(f2.nodeName);f0.push(dp(f2.nodeName, u0031("ws-on".length), null)+":"+f2.nodeValue.toLowerCase());} else if(!er(f2.nodeName, "ws-")&&(new RegExp(bi())).test(f2.nodeValue)){ let f3=new RegExp(bi(), "g");let f4=f2.nodeValue.replace(f3, (f8, f9) =>"${"+f9.toLowerCase()+"}");f2.nodeValue=f4;f1.push(f2.nodeName);} else void 0;} if(!(f0.length==0))fX.setAttribute("ws-on", ep(" ", f0));if(!(f1.length==0))fX.setAttribute("ws-attr-holes", ep(" ", f1));const f5=(f8) => { const f9=fX.getAttribute(f8);if(f9==null){ } else fX.setAttribute(f8, f9.toLowerCase());};f5("ws-hole");f5("ws-replace");f5("ws-attr");f5("ws-onafterrender");f5("ws-var");bN((f8) => { fX.removeAttribute(f8);}, fZ);}
function dp(fX, fY, fZ){ if(fY==null){ if(fZ!=null&&fZ.$==1){ const f0=fZ.$0;return f0<0?"":fX.slice(0, f0+1);} else return"";} else if(fZ==null)return fX.slice(fY.$0);else { const f1=fZ.$0;return f1<0?"":fX.slice(fY.$0, f1+1);} }
function dq(fX){ const fY=globalThis.document.createElement("div");if(!ds().test(fX)){ fY.appendChild(globalThis.document.createTextNode(fX));return fY;} else { const fZ=dw().exec(fX);const f0=w(fZ, null)?"":n(fZ, 1).toLowerCase();const f1=(dt())[f0];const f2=f1?f1:du();fY.innerHTML=f2[1]+fX.replace(dv(), "<$1></$2>")+f2[2];function f3(f4, f5){ while(true){ if(f5===0)return f4;else { const f6=f5;f4=f4.lastChild;f5=f6-1;} } } return f3(fY, f2[0]);} }
function dr(fX){ const fY=[];for(let fZ=0, f0=fX.childNodes.length-1;fZ<=f0;fZ++)fY.push(fX.childNodes[fZ]);return fY;}
function ds(){ return eV.rhtml;}
function dt(){ return eV.wrapMap;}
function du(){ return eV.defaultWrap;}
function dv(){ return eV.rxhtmlTag;}
function dw(){ return eV.rtagName;}
function dx(fX, fY, fZ){ const f0=fX.querySelectorAll(fY);for(let f1=0, f2=f0.length-1;f1<=f2;f1++)fZ(f0[f1]);}
function dy(fX, fY){ const fZ=globalThis.document.querySelectorAll(fX);for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)fY(fZ[f0]);}
function dz(fX, fY, fZ){ let f0;if(fZ.parentNode===fX){ const f1=fZ.nextSibling;let f2=w(f1, null)?null:f1;f0=fY===f2;} else f0=false;if(!f0)fX.insertBefore(fZ, fY);}
function dA(fX, fY){ if(fY.parentNode===fX)fX.removeChild(fY);}
function dB(){ return i("The input sequence has an insufficient number of elements.");}
function dC(fX, fY){ let fZ=true;let f0=0;while(fZ&&f0<q(fY))if(w(fY[f0], fX))fZ=false;else f0=f0+1;return!fZ;}
function dD(){ return i("The input must be non-negative.");}
class dE extends l { d;GetEnumerator(){ return cB(bx((fX) => fX.K, this.d));} constructor(fX){ super();this.d=fX;} }
function dF(){ return eK();}
function dG(fX){ const fY=null;return O(() => P(dI(() => { }, eL(fX)), () => { eM(fX);return Q(null);}));}
function dH(fX, fY){ return dJ(eX(fX.$0, fY.$0));}
function dI(fX, fY){ const fZ=fY.Duration;if(fZ===0)return Y();else { const f0=(f1) => { function f2(f3){ return(f4) => { const f5=f4-f3;fY.Compute(f5);fX();return f5<=fZ?void requestAnimationFrame((f6) => {(f2(f3))(f6);}):f1();};} requestAnimationFrame((f3) => {(f2(f3))(f3);});};return X((f1, f2, f3) => f0.apply(null, [f1, f2, f3]));} }
function dJ(fX){ return{$:0, $0:fX};}
function dK(fX){ return dJ(eZ(bx(eO, fX)));}
function dL(){ return dJ(e0());}
function dM(){ return eS.BatchUpdatesEnabled;}
function dN(fX){ const fY=[0];function fZ(){ const f0=null;return O(() => P(fX, () => { const f1=fY[0];return w(f1, 1)?(fY[0]=0,Y()):w(f1, 2)?(fY[0]=1,fZ()):Y();}));} return() => { const f0=fY[0];if(w(f0, 0)){ fY[0]=1;R(fZ(), null);} else w(f0, 1)?fY[0]=2:void 0;};}
function dO(fX, fY, fZ, f0){ const f1={DynElem:fX, DynFlags:fY, DynNodes:fZ};fQ(f1, "OnAfterRender", f0);return f1;}
function dP(fX){ let fY;const fZ=fX.s;if(fZ==null||(fZ!=null&&fZ.$==2?(fY=fZ.$1,false):fZ!=null&&fZ.$==3?(fY=fZ.$1,false):true))void 0;else { fX.s=null;for(let f1=0, f2=q(fY)-1;f1<=f2;f1++){ const f0=n(fY, f1);if(typeof f0=="object")(((f3) => { dP(f3);})(f0));else f0();} } }
function dQ(fX, fY){ const fZ=[];const f0=[];function f1(f4){ while(true){ if(!(f4===null)){ if(f4!=null&&f4.$==1)return fZ.push(f4.$0);else if(f4!=null&&f4.$==2){ const f5=f4.$1;const f6=f4.$0;f1(f6);f4=f5;} else return f4!=null&&f4.$==3?f4.$0(fX):f4!=null&&f4.$==4?f0.push(f4.$0):null;} else return null;} } f1(fY);const f2=fZ.slice(0);let f3=dO(fX, dT(fY), f2, f0.length===0?null:u0031((f4) => { bw((f5) => { f5(f4);}, f0);}));return f3;}
function dR(fX){ return ey((fY) => fY.NChanged, c$(), df, fX.DynNodes);}
function dS(fX){ return dO(fX, 0, [], null);}
function dT(fX){ return fX!==null&&fX.hasOwnProperty("flags")?fX.flags:0;}
function dU(fX){ return ej.A3(fX);}
function dV(fX, fY){ return ej.A1(new e1(fX, fY));}
function dW(){ return e3.EmptyAttr;}
function dX(fX){ const fY=2;return(fX.DynFlags&fY)===fY;}
function dY(fX){ return d4(fX, (fY, fZ) => fY.NGetExitAnim(fZ));}
function dZ(fX){ const fY=1;return(fX.DynFlags&fY)===fY;}
function d0(fX){ return d4(fX, (fY, fZ) => fY.NGetEnterAnim(fZ));}
function d1(fX){ const fY=4;return(fX.DynFlags&fY)===fY;}
function d2(fX){ return d4(fX, (fY, fZ) => fY.NGetChangeAnim(fZ));}
function d3(fX, fY){ if(fX===null)return fY;else if(fY===null)return fX;else { const fZ=ej.A2(fX, fY);d6(fZ, dT(fX)|dT(fY));return fZ;} }
function d4(fX, fY){ return dK(bP((fZ) => fY(fZ, fX.DynElem), fX.DynNodes));}
function d5(fX, fY){ bN((fZ) => { fZ.NSync(fX);}, fY.DynNodes);}
function d6(fX, fY){ fX.flags=fY;}
class d7 extends s { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d8 extends s { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d9 extends s { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d_(fX, fY){ return dU((fZ) => { fZ.addEventListener(fX, (f0) =>(fY(fZ))(f0), false);});}
function d$(fX){ return ej.A4(fX);}
function ea(fX, fY){ return dV(fY, (fZ) =>(f0) => fZ.setAttribute(fX, f0));}
function eb(fX){ return eh(fs(), fX);}
function ec(fX){ return eh(ft(), fX);}
function ed(fX){ return eh(fu(), fX);}
function ee(fX){ return eh(fv(), fX);}
function ef(fX){ return eh(fw(), fX);}
function eg(fX){ return eh(fx(), fX);}
function eh(fX, fY){ const fZ=fX(fY);return ej.Append(dU(fZ[0]), ei(fZ[1], fZ[2]));}
function ei(fX, fY){ return dV(fY, fX);}
class ej { static Handler(fX, fY){ return ej.HandlerImpl(fX, fY);} static Concat(fX){ const fY=ez(fX);return ex(dW(), ej.Append, fY);} static Create(fX, fY){ return dU((fZ) => { fZ.setAttribute(fX, fY);});} static HandlerImpl(fX, fY){ return dU((fZ) => { fZ.addEventListener(fX, (f0) =>(fY(fZ))(f0), false);});} static Append(fX, fY){ return d3(fX, fY);} static A4(fX){ return fV(ej, {$:4, $0:fX});} static A3(fX){ return fV(ej, {$:3, $0:fX});} static A1(fX){ return fV(ej, {$:1, $0:fX});} static A2(fX, fY){ return fV(ej, {$:2, $0:fX, $1:fY});} }
class ek extends s { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class el extends s { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function em(fX){ return{$:0, $0:fX};}
function en(fX){ return{$:1, $0:fX};}
class eo { static Cons(fX, fY){ return fV(eo, {$:1, $0:fX, $1:fY});} static Empty=fV(eo, {$:0});GetEnumerator(){ return new cF(this, null, (fX) => { const fY=fX.s;return fY.$==0?false:(fX.c=fY.$0,fX.s=fY.$1,true);}, void 0);} }
function ep(fX, fY){ return bR(fY).join(fX);}
function eq(fX, fY, fZ){ return es(fX, new RegExp("["+et(fY.join(""))+"]"), fZ);}
function er(fX, fY){ return fX.substring(0, fY.length)==fY;}
function es(fX, fY, fZ){ return fZ===1?bQ((f0) => f0!=="", eu(fX, fY)):eu(fX, fY);}
function et(fX){ return fX.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eu(fX, fY){ return fX.split(fY);}
function ev(fX, fY){ return bG(fX, ew(fY));}
function ew(fX){ return fX==null?"":fX;}
function ex(fX, fY, fZ){ const f0=q(fZ);function f1(f2){ return(f3) => { let f4;switch(f3<=0?0:f3===1?f2>=0&&f2<f0?1:(f4=f3,2):(f4=f3,2)){ case 0:return fX;case 1:return n(fZ, f2);case 2:const f5=f3/2>>0;return fY((f1(f2))(f5), (f1(f2+f5))(f3-f5));} };} return(f1(0))(f0);}
function ey(fX, fY, fZ, f0){ const f1=q(f0);function f2(f3){ return(f4) => { let f5;switch(f4<=0?0:f4===1?f3>=0&&f3<f1?1:(f5=f4,2):(f5=f4,2)){ case 0:return fY;case 1:return fX(n(f0, f3));case 2:const f6=f4/2>>0;return fZ((f2(f3))(f6), (f2(f3+f6))(f4-f6));} };} return(f2(0))(f1);}
function ez(fX){ if(fX instanceof Array)return fX;else if(fX instanceof eo)return bT(fX);else if(fX===null)return[];else { const fY=[];const fZ=cB(fX);try { while(fZ.MoveNext())fY.push(fZ.Current);return fY;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } }
class eA { c;s;v;static Create(fX){ let fY;fY=null;fY=eA.New(fX, null, () => { let fZ;fZ=fY.s;return fZ===null?(fZ=cg(fY.c()),fY.s=fZ,ch(fZ, () => { fY.s=null;}),fZ):fZ;});return fY;} static New(fX, fY, fZ){ return fV(eA, {c:fX, s:fY, v:fZ});} }
class eB extends l { d;GetEnumerator(){ return cB(bx((fX) => fX.V, this.d));} constructor(fX){ super();this.d=fX;} }
function eC(fX, fY){ return{PreviousNodes:fX, Top:fY};}
function eD(){ return eF(new bs("New_3"));}
function eE(fX){ const fY=[];function fZ(f2, f3){ while(true)switch(f2){ case 0:if(f3!=null&&f3.$==0){ const f4=f3.$1;const f5=f3.$0;fZ(0, f5);f3=f4;} else if(f3!=null&&f3.$==1){ const f6=f3.$0;f3=f6;f2=1;} else if(f3!=null&&f3.$==2){ const f7=f3.$0;f3=f7.Current;} else if(f3!=null&&f3.$==6){ const f8=f3.$0.Holes;return(((f9) =>(f_) => { bN(f9, f_);})(f1))(f8);} else return null;break;case 1:fY.push(f3);f3=f3.Children;f2=0;break;} } function f0(f2){ return fZ(0, f2);} function f1(f2){ return fZ(1, f2);} f0(fX);return eF(new bs("New_2", fY));}
function eF(fX){ return{$:0, $0:fX};}
function eG(fX, fY){ return eF(e5(fX, fY.$0));}
function eH(fX, fY){ return eF(e6(fX.$0, fY.$0));}
function eI(fX){ return e7(fX.$0);}
function eJ(fX, fY){ return eF(e8(fX.$0, fY.$0));}
function eK(){ return eW.UseAnimations;}
function eL(fX){ return eN(bI((fY) => fY.$==1?u0031(fY.$0):null, eY(fX.$0)));}
function eM(fX){ bN((fY) => { if(fY.$==0)fY.$0();}, eY(fX.$0));}
function eN(fX){ const fY=ez(fX);const fZ=q(fY);if(fZ===0)return eP();else if(fZ===1)return n(fY, 0);else { const f0=bA(bx((f2) => f2.Duration, fY));const f1=bP((f2) => eR(f0, f2), fY);return eQ(f0, (f2) => { bN((f3) => { f3.Compute(f2);}, f1);});} }
function eO(fX){ return fX.$0;}
function eP(fX){ return eQ(0, () => fX);}
function eQ(fX, fY){ return{Compute:fY, Duration:fX};}
function eR(fX, fY){ const fZ=fY.Compute;const f0=fY.Duration;const f1=fI(() => fY.Compute(fY.Duration));return{Compute:(f2) => f2>=f0?f1.f():fZ(f2), Duration:fX};}
let eS=fR((fX) => class fY { static { eS=fX(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eT(fX){ let fY=[];let fZ;for(var f0 in fX)fY.push.apply(fY, fX[f0]);return fY;}
let eU=fR((fX) => class fY { static { eU=fX(this);} static counter;static { this.counter=0;} });
let eV=fR((fX) => class fY { static { eV=fX(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fZ=[1, "<table>", "</table>"];let f0=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fZ], ["tbody", fZ], ["tfoot", fZ], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f0;this.defaultWrap=[0, "", ""];} });
let eW=fR((fX) => class fY { static { eW=fX(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e4.Custom((fZ) => { const f0=fZ*fZ;return 3*f0-2*(f0*fZ);});this.UseAnimations=true;} });
function eX(fX, fY){ return fX.$==0?fY:fY.$==0?fX:{$:2, $0:fX, $1:fY};}
function eY(fX){ const fY=[];function fZ(f0){ while(true){ if(f0.$==1)return fY.push(f0.$0);else if(f0.$==2){ const f1=f0.$1;const f2=f0.$0;fZ(f2);f0=f1;} else return f0.$==3?bN((f3) => { fY.push(f3);}, f0.$0):null;} } fZ(fX);return fY.slice(0);}
function eZ(fX){ const fY=ez(fX);return ex(e0(), eX, fY);}
function e0(){ return fL.Empty;}
class e1 extends l { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fX){ return dL();} NGetEnterAnim(fX){ return dL();} NGetChangeAnim(fX){ return dL();} NSync(fX){ if(this.dirty){(this.push(fX))(this.value);this.dirty=false;} } constructor(fX, fY){ super();this.push=fY;this.value=void 0;this.dirty=false;this.updates=db((fZ) => { this.value=fZ;this.dirty=true;}, fX);} }
class e2 extends Error { static New(){ return new this("New");} static New_1(fX){ return new this("New_1", fX);} constructor(fX, fY){ if(fX=="New"){ fX="New_1";fY="The given key was not present in the dictionary.";} if(fX=="New_1"){ const fZ=fY;super(fZ);} } }
let e3=fR((fX) => class fY { static { e3=fX(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gd) =>[(ge) => { ge.addEventListener("change", () => gd.Get()!=ge.checked?gd.Set(ge.checked):null);}, (ge) =>(gf) => gf!=null&&gf.$==1?void(ge.checked=gf.$0):null, db(u0031, gd.View)];this.StringSet=(gd) =>(ge) => { gd.value=ge;};this.StringGet=(gd) => u0031(gd.value);const fZ=fc();const f0=fb();this.StringApply=(gd) => fa(fZ, f0, gd);this.StringListSet=(gd) =>(ge) => { const gf=gd.options;for(let gg=0, gh=gf.length-1;gg<=gh;gg++)((() => { const gi=gf.item(gg);gi.selected=dC(gi.value, ge);})());};this.StringListGet=(gd) => { const ge=gd.selectedOptions;return u0031(bR(by(() => bz((gf) =>[ge.item(gf).value], k(0, ge.length-1)))));};const f1=fe();const f2=fd();this.StringListApply=(gd) => fa(f1, f2, gd);this.DateTimeSetUnchecked=(gd) =>(ge) => { gd.value=(new Date(ge)).toLocaleString();};this.DateTimeGetUnchecked=(gd) => { let ge;let gf;const gg=gd.value;if(fy(gg))return u0031(-8640000000000000);else { ge=0;const gh=fG(gg);let gi=gh!=null&&gh.$==1&&(ge=gh.$0,true);gf=[gi, ge];return gf[0]?u0031(gf[1]):null;} };const f3=fg();const f4=ff();this.DateTimeApplyUnchecked=(gd) => fa(f3, f4, gd);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gd) => { const ge=gd.files;return u0031(bR(by(() => bx((gf) => ge.item(gf), k(0, ge.length-1)))));};const f5=fj();const f6=fi();this.FileApplyUnchecked=(gd) => fh(f5, f6, gd);this.IntSetUnchecked=(gd) =>(ge) => { gd.value=String(ge);};this.IntGetUnchecked=(gd) => { const ge=gd.value;if(fy(ge))return u0031(0);else { const gf=+ge;return gf!==gf>>0?null:u0031(gf);} };const f7=fl();const f8=fk();this.IntApplyUnchecked=(gd) => fa(f7, f8, gd);this.IntSetChecked=(gd) =>(ge) => { const gf=ge.Input;return gd.value!=gf?void(gd.value=gf):null;};this.IntGetChecked=(gd) => { let ge;let gf;const gg=gd.value;if(fy(gg))ge=(gd.checkValidity?gd.checkValidity():true)?fz.Blank(gg):fz.Invalid(gg);else { const gh=(gf=0,[b_(gg, {get:() => gf, set:(gi) => { gf=gi;}}), gf]);ge=gh[0]?fz.Valid(gh[1], gg):fz.Invalid(gg);} return u0031(ge);};const f9=fn();const f_=fm();this.IntApplyChecked=(gd) => fa(f9, f_, gd);this.FloatSetUnchecked=(gd) =>(ge) => { gd.value=String(ge);};this.FloatGetUnchecked=(gd) => { const ge=gd.value;if(fy(ge))return u0031(0);else { const gf=+ge;return isNaN(gf)?null:u0031(gf);} };const f$=fp();const ga=fo();this.FloatApplyUnchecked=(gd) => fa(f$, ga, gd);this.FloatSetChecked=(gd) =>(ge) => { const gf=ge.Input;return gd.value!=gf?void(gd.value=gf):null;};this.FloatGetChecked=(gd) => { let ge;const gf=gd.value;if(fy(gf))ge=(gd.checkValidity?gd.checkValidity():true)?fz.Blank(gf):fz.Invalid(gf);else { const gg=+gf;ge=isNaN(gg)?fz.Invalid(gf):fz.Valid(gg, gf);} return u0031(ge);};const gb=fr();const gc=fq();this.FloatApplyChecked=(gd) => fa(gb, gc, gd);} });
class e4 extends l { transformTime;static Custom(fX){ return new e4(fX);} constructor(fX){ super();this.transformTime=fX;} }
function e5(fX, fY){ return new bs("New_2", bQ(fX, e7(fY)));}
function e6(fX, fY){ const fZ=new bs("New_2", e7(fY));fZ.ExceptWith(e7(fX));return fZ;}
function e7(fX){ const fY=bV(fX.Count, void 0);fX.CopyTo(fY, 0);return fY;}
function e8(fX, fY){ const fZ=new bs("New_2", e7(fX));fZ.IntersectWith(e7(fY));return fZ;}
function e9(fX){ return fX.$==1?fX.$0:e$();}
function e_(fX){ return fX.$==1?fX.$1:e$();}
function e$(){ return i("The input list was empty.");}
function fa(fX, fY, fZ){ let f0;f0=null;return[(f1) => { const f2=() => { fZ.UpdateMaybe((f3) => { let f4;f0=fX(f1);return f0!=null&&f0.$==1&&(!w(f0.$0, f3)&&(f4=[f0, f0.$0],true))?f4[0]:null;});};f1.addEventListener("change", f2);f1.addEventListener("input", f2);f1.addEventListener("keypress", f2);}, (f1) => { const f2=fY(f1);return(f3) => f3==null?null:f2(f3.$0);}, db((f1) => { let f2;return f0!=null&&f0.$==1&&(w(f0.$0, f1)&&(f2=f0.$0,true))?null:u0031(f1);}, fZ.View)];}
function fb(){ return e3.StringSet;}
function fc(){ return e3.StringGet;}
function fd(){ return e3.StringListSet;}
function fe(){ return e3.StringListGet;}
function ff(){ return e3.DateTimeSetUnchecked;}
function fg(){ return e3.DateTimeGetUnchecked;}
function fh(fX, fY, fZ){ let f0;f0=null;return[(f1) => { f1.addEventListener("change", () => { fZ.UpdateMaybe((f2) => { let f3;f0=fX(f1);return f0!=null&&f0.$==1&&(f0.$0!==f2&&(f3=[f0, f0.$0],true))?f3[0]:null;});});}, (f1) => { const f2=fY(f1);return(f3) => f3==null?null:f2(f3.$0);}, db((f1) => { let f2;return f0!=null&&f0.$==1&&(w(f0.$0, f1)&&(f2=f0.$0,true))?null:u0031(f1);}, fZ.View)];}
function fi(){ return e3.FileSetUnchecked;}
function fj(){ return e3.FileGetUnchecked;}
function fk(){ return e3.IntSetUnchecked;}
function fl(){ return e3.IntGetUnchecked;}
function fm(){ return e3.IntSetChecked;}
function fn(){ return e3.IntGetChecked;}
function fo(){ return e3.FloatSetUnchecked;}
function fp(){ return e3.FloatGetUnchecked;}
function fq(){ return e3.FloatSetChecked;}
function fr(){ return e3.FloatGetChecked;}
function fs(){ return e3.StringApply;}
function ft(){ return e3.FloatApplyUnchecked;}
function fu(){ return e3.BoolCheckedApply;}
function fv(){ return e3.DateTimeApplyUnchecked;}
function fw(){ return e3.FileApplyUnchecked;}
function fx(){ return e3.StringListApply;}
function fy(fX){ return ev(fF, fX);}
class fz { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fX){ return fV(fz, {$:2, $0:fX});} static Invalid(fX){ return fV(fz, {$:1, $0:fX});} static Valid(fX, fY){ return fV(fz, {$:0, $0:fX, $1:fY});} }
function fA(fX, fY){ let fZ;if(fY!=null&&fY.$==1){ const f0=[];fZ=fY.$0[0].nextSibling;while(fZ!==fY.$0[1]){ f0.push(fZ);fZ=fZ.nextSibling;} return fE(f0);} else { let f1=fX.childNodes.length;const f2=fX.childNodes;let f3=bW(f1, (f4) => f2[f4]);return fE(f3);} }
function fB(fX, fY){ const fZ=fX.$0;return fE(bQ((f0) => bU((f1) =>!(f0===f1), fZ), fY.$0));}
function fC(fX, fY){ bN(fX, fY.$0);}
function fD(fX){ const fY=[];function fZ(f0){ while(true){ if(f0!=null&&f0.$==2){ const f1=f0.$0;f0=f1.Current;} else if(f0!=null&&f0.$==1)return fY.push(f0.$0.El);else if(f0==null)return null;else if(f0!=null&&f0.$==5)return fY.push(f0.$0);else if(f0!=null&&f0.$==4)return fY.push(f0.$0.Text);else if(f0!=null&&f0.$==6){ const f2=f0.$0.Els;return(((f5) =>(f6) => { bN(f5, f6);})((f5) => { if(f5==null||f5.constructor===Object)fZ(f5);else fY.push(f5);}))(f2);} else { const f3=f0.$1;const f4=f0.$0;fZ(f4);f0=f3;} } } fZ(fX.Children);return fE(ez(fY));}
function fE(fX){ return{$:0, $0:fX};}
function fF(fX){ return fX.match(new RegExp("\\s"))!==null;}
function fG(fX){ const fY=Date.parse(fX);return isNaN(fY)?null:u0031(fY);}
function fH(fX, fY, fZ, f0){ const f1=+fX;const f2=f1===f1-f1%1&&f1>=fY&&f1<=fZ;if(f2)f0.set(f1);return f2;}
function fI(fX){ return fN(false, fX, fJ);}
function fJ(){ const fX=this.v();this.c=true;this.v=fX;this.f=fK;return fX;}
function fK(){ return this.v;}
let fL=fR((fX) => class fY { static { fL=fX(this);} static Empty;static { this.Empty={$:0};} });
function fM(fX){ fX.splice(0, q(fX));}
function fN(fX, fY, fZ){ return{c:fX, v:fY, f:fZ};}
fW(() => { b();});
fO();

